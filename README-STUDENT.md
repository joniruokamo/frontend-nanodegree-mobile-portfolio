The fixes implemented in main.js include:
- adding variable rpc
- moving offsetWidth out from for-loop because it caused layout trashing
- moving variables out from for-loops
